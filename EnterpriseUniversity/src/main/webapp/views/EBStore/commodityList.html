<meta charset="UTF-8" >
<div id="page" class="container-fluid overflow-auto" ng-controller="CommodityController">
    <div class="row">
        <div class="container-fluid top-func-bar">
            <div class="row">
                <div class="col-xs-9">
                     <div class="row">
                         <div class="col-xs-6">
                             <div class="input-group" ng-class="{'has-error':commodityName.length>=20}">
                                 <input type="text" placeholder="请输入商品名称关键字" class="form-control" ng-model="commodityName" maxlength="20" ng-keydown='autoSearch($event)'>
		                         <span class="input-group-btn">
		                             <a class="btn btn-primary" ng-click="search()">搜索</a>
		                         </span>
                             </div>
                         </div>  
                     </div>
                </div>
                <div class="col-xs-3 ">
                    <button type="submit" class="btn btn-primary pull-right" ng-click="doAdd()">+ 添加商品</button>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <table class="table table-striped table-bordered table-hover table-condensed table-layout">
                <thead>
	                 <tr>
	                     <th width="50px">序号</th>
	                     <th class="col-xs-2">商品名称</th>
	                     <th width="100">商品数量</th>
	                     <th width="100">商品价值</th>
	                     <th width="120">创建人</th>
	                     <th width="120">最后修改人</th>
	                     <th width="150">最后修改时间</th>
	                     <th width="150px">操作</th>
	                 </tr>
                </thead>
                <tbody>
	                 <tr ng-repeat="commodity in page.data" ng-class="{'current-focus-tr':commodity.commodityId == currHighLightRow.commodityId}" ng-click="highLightCurrRow(commodity)" style="cursor:pointer;">
	                     <td ng-bind="$index+1"></td>
	                     <td ng-bind="commodity.commodityName"></td>
	                     <td ng-bind="commodity.commodityNumber"></td>
	                     <td ng-bind="commodity.commodityPrice"></td>
	                     <td ng-bind="commodity.creator"></td>
	                     <td ng-bind="commodity.lastOperator"></td>
	                     <td ng-bind="commodity.updateTime | date:'yyyy-MM-dd HH:mm:ss'"></td>
	                     <td>
                			<a class="btn btn-link " ng-click="edit(commodity)" ng-bind="'编辑'"></a>
                 			<a class="btn btn-link noleftpadding" ng-click="doUpdate(commodity)" ng-bind="commodity.commodityGrounding=='1'?'下架':'上架'"></a>
	                     </td>
	                 </tr>
                </tbody>
            </table>
            <div>
	           	<div class="container-fluid" pagination conf="paginationConf"></div>
           </div>
        </div>
    </div>    
</div>
<script type="text/javascript">
    //监听窗口大小变化，自适应高度
    $(document).ready(function () {
    	resizeView();
    });
</script>
