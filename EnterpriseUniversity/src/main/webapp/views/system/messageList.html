<meta charset="UTF-8">
<div id="page" class="container-fluid overflow-auto"ng-controller="MessageController">
     <div class="row">
        <div class="container-fluid top-func-bar">
            <div class="row">
                <div class="col-xs-8">
                    <form role="search">
                        <div class="row">
                            <div class="col-xs-6">
                                <div class="input-group" ng-class="{'has-error':messageTitle.length>=20}">
                                    <input type="text" placeholder="请输入消息标题关键字" class="form-control " ng-model="messageTitle" maxlength="20" ng-keydown='autoSearch($event)'>
                                    <span class="input-group-btn">
                                       <a class="btn  btn-primary" ng-click="search()">搜索</a>
                                    </span>
                                </div>
                            </div>
                        </div>
                    </form>
                </div>
                <div class="col-xs-4">
               		 <a class="btn btn-primary pull-right" ng-click="doDetails()">消息内容</a> 
                	<a class="btn btn-primary pull-right" ng-click="doAdd()">推送消息</a>
                    <a class="btn btn-primary pull-right" ng-click="doSet()">消息设置</a>
                </div>
            </div>
        </div>
        <div class="container-fluid">
            <form id="view-course-list">
                <table class="table table-striped table-bordered table-hover table-condensed">
                    <thead>
	                    <tr>
	                        <th width="40px">序号</th>
	                        <th class="col-xs-2">标题</th>
	                        <th class="col-xs-2">所属公司</th>
	                        <th class="col-xs-2">所属部门</th>
	                        <th class="col-xs-2">发送时间</th>
	                        <th width="70px">查看状态</th>
	                        <th width="70px">操作</th>
	                    </tr>
	                    </thead>
	                    <tbody>
	                    <tr ng-repeat="r in page.data" ng-class="{'current-focus-tr':r.messageId == currHighLightRow.messageId}" ng-click="highLightCurrRow(r)" style="cursor:pointer;">
	                    	<td ng-bind="$index+1"></td>
	                        <td ng-bind="r.messageTitle"></td>
	                        <td ng-bind="r.org"></td>
	                        <td ng-bind="r.dept"></td>
	                        <td ng-bind="r.createTime| date:'yyyy-MM-dd HH:mm:ss'"></td>
	                        <td ng-bind="r.viewCount+'人查看'"></td>
	                        <td>
	                            <a class="btn btn-link" ng-click="doView(r)">查看</a>
	                        </td>
	                    </tr>
                    </tbody>
                </table>
                <!-- 分页 -->
                <div class="container-fluid" pagination conf="paginationConf"></div>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
//监听窗口大小变化，自适应高度
$(document).ready(function () {
	resizeView();
});
 </script>