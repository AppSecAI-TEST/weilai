<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.chinamobo.ue.activity.dao.TomActivityEmpsRelationMapper">
	<resultMap id="BaseResultMap"
		type="com.chinamobo.ue.activity.entity.TomActivityEmpsRelation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="ACTIVITY_ID" property="activityId" jdbcType="DECIMAL" />
		<id column="CODE" property="code" jdbcType="VARCHAR" />
		<result column="STATUS" property="status" jdbcType="VARCHAR" />
		<result column="APPLY_STATUS" property="applyStatus" jdbcType="VARCHAR" />
		<result column="APPLY_TYPE" property="applyType" jdbcType="VARCHAR" />
		<result column="IS_REQUIRED" property="isRequired" jdbcType="VARCHAR" />
		<result column="CREATOR" property="creator" jdbcType="VARCHAR" />
		<result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
		<result column="OPERATOR" property="operator" jdbcType="VARCHAR" />
		<result column="UPDATE_TIME" property="updateTime" jdbcType="TIMESTAMP" />
	</resultMap>
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		ACTIVITY_ID, CODE, STATUS, APPLY_STATUS, APPLY_TYPE, IS_REQUIRED,
		CREATOR, CREATE_TIME,
		OPERATOR, UPDATE_TIME
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="com.chinamobo.ue.activity.entity.TomActivityEmpsRelationKey">
		select
		<include refid="Base_Column_List" />
		from TOM_ACTIVITY_EMPS_RELATION
		where ACTIVITY_ID =
		#{activityId,jdbcType=DECIMAL}
		and CODE = #{code,jdbcType=VARCHAR}
	</select>
	<delete id="deleteByPrimaryKey"
		parameterType="com.chinamobo.ue.activity.entity.TomActivityEmpsRelationKey">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from TOM_ACTIVITY_EMPS_RELATION
		where ACTIVITY_ID =
		#{activityId,jdbcType=DECIMAL}
		and CODE = #{code,jdbcType=VARCHAR}
	</delete>
	<insert id="insert"  useGeneratedKeys="true" keyProperty="activityId"
		parameterType="com.chinamobo.ue.activity.entity.TomActivityEmpsRelation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into TOM_ACTIVITY_EMPS_RELATION (ACTIVITY_ID, CODE, STATUS,
		APPLY_STATUS, APPLY_TYPE, IS_REQUIRED,
		CREATOR, CREATE_TIME, OPERATOR,
		UPDATE_TIME)
		values (#{activity,jdbcType=DECIMAL},
		#{code,jdbcType=VARCHAR},
		#{status,jdbcType=VARCHAR},
		#{applyStatus,jdbcType=VARCHAR}, #{applyType,jdbcType=VARCHAR},
		#{isRequired,jdbcType=VARCHAR},
		#{creator,jdbcType=VARCHAR},
		#{createTime,jdbcType=TIMESTAMP},
		#{operator,jdbcType=VARCHAR},
		#{updateTime,jdbcType=TIMESTAMP})
	</insert>
	<insert id="insertSelective"  useGeneratedKeys="true" keyProperty="activityId"
		parameterType="com.chinamobo.ue.activity.entity.TomActivityEmpsRelation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		insert into TOM_ACTIVITY_EMPS_RELATION
		<trim prefix="(" suffix=")" suffixOverrides=",">
			<if test="activityId != null">
				ACTIVITY_ID,
			</if>
			<if test="code != null">
				CODE,
			</if>
			<if test="status != null">
				STATUS,
			</if>
			<if test="applyStatus != null">
				APPLY_STATUS,
			</if>
			<if test="applyType != null">
				APPLY_TYPE,
			</if>
			<if test="isRequired != null">
				IS_REQUIRED,
			</if>
			<if test="creator != null">
				CREATOR,
			</if>
			<if test="createTime != null">
				CREATE_TIME,
			</if>
			<if test="operator != null">
				OPERATOR,
			</if>
			<if test="updateTime != null">
				UPDATE_TIME,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
			<if test="activityId != null">
				#{activityId,jdbcType=DECIMAL},
			</if>
			<if test="code != null">
				#{code,jdbcType=VARCHAR},
			</if>
			<if test="status != null">
				#{status,jdbcType=VARCHAR},
			</if>
			<if test="applyStatus != null">
				#{applyStatus,jdbcType=VARCHAR},
			</if>
			<if test="applyType != null">
				#{applyType,jdbcType=VARCHAR},
			</if>
			<if test="isRequired != null">
				#{isRequired,jdbcType=VARCHAR},
			</if>
			<if test="creator != null">
				#{creator,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				#{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="operator != null">
				#{operator,jdbcType=VARCHAR},
			</if>
			<if test="updateTime != null">
				#{updateTime,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective"
		parameterType="com.chinamobo.ue.activity.entity.TomActivityEmpsRelation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update TOM_ACTIVITY_EMPS_RELATION
		<set>
			<if test="status != null">
				STATUS = #{status,jdbcType=VARCHAR},
			</if>
			<if test="applyStatus != null">
				APPLY_STATUS = #{applyStatus,jdbcType=VARCHAR},
			</if>
			<if test="applyType != null">
				APPLY_TYPE = #{applyType,jdbcType=VARCHAR},
			</if>
			<if test="isRequired != null">
				IS_REQUIRED = #{isRequired,jdbcType=VARCHAR},
			</if>
			<if test="creator != null">
				CREATOR = #{creator,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="operator != null">
				OPERATOR = #{operator,jdbcType=VARCHAR},
			</if>
			<if test="updateTime != null">
				UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
			</if>
		</set>
		where ACTIVITY_ID = #{activityId,jdbcType=DECIMAL}
		and CODE = #{code,jdbcType=VARCHAR}
	</update>
	<update id="updateByPrimaryKey"
		parameterType="com.chinamobo.ue.activity.entity.TomActivityEmpsRelation">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update TOM_ACTIVITY_EMPS_RELATION
		set STATUS =
		#{status,jdbcType=VARCHAR},
		APPLY_STATUS =
		#{applyStatus,jdbcType=VARCHAR},
		APPLY_TYPE =
		#{applyType,jdbcType=VARCHAR},
		IS_REQUIRED =
		#{isRequired,jdbcType=VARCHAR},
		CREATOR = #{creator,jdbcType=VARCHAR},
		CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
		OPERATOR =
		#{operator,jdbcType=VARCHAR},
		UPDATE_TIME =
		#{updateTime,jdbcType=TIMESTAMP}
		where ACTIVITY_ID =
		#{activityId,jdbcType=DECIMAL}
		and CODE = #{code,jdbcType=VARCHAR}
	</update>
	
	<select id="selectByActivityId" resultMap="BaseResultMap" parameterType="int">
		select
		<include refid="Base_Column_List" />
		from TOM_ACTIVITY_EMPS_RELATION where ACTIVITY_ID = #{activityId,jdbcType=DECIMAL} and APPLY_TYPE='E'
	</select>
	
	<select id="selectByActivityId2" resultMap="BaseResultMap" parameterType="int">
		select
		<include refid="Base_Column_List" />
		from TOM_ACTIVITY_EMPS_RELATION where ACTIVITY_ID = #{activityId,jdbcType=DECIMAL} and APPLY_STATUS='Y'
	</select>
	
	<select id="selectByActivitycode" resultMap="BaseResultMap" parameterType="String">
		select
		<include refid="Base_Column_List" />
		from TOM_ACTIVITY_EMPS_RELATION where CODE = #{code,jdbcType=VARCHAR} and APPLY_STATUS='Y'
	</select>
	 <delete id="deleteByActivityId" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from TOM_ACTIVITY_EMPS_RELATION
    where ACTIVITY_ID = #{activityId,jdbcType=DECIMAL}
  </delete>
  <select id="countByExample" resultType="int" parameterType="com.chinamobo.ue.activity.entity.TomActivityEmpsRelation">
		select
		count(*)
		from TOM_ACTIVITY_EMPS_RELATION where  APPLY_TYPE!='P'
		<if test="activityId != null">
				and ACTIVITY_ID = #{activityId,jdbcType=DECIMAL}
			</if>
			<if test="status != null">
				and STATUS = #{status,jdbcType=VARCHAR}
			</if>
			<if test="applyStatus != null">
				and APPLY_STATUS = #{applyStatus,jdbcType=VARCHAR}
			</if>
			<if test="applyType != null">
				and APPLY_TYPE = #{applyType,jdbcType=VARCHAR}
			</if>
			<if test="isRequired != null">
				and IS_REQUIRED = #{isRequired,jdbcType=VARCHAR}
			</if>
	</select>
	<select id="selectListByExample" resultMap="BaseResultMap" parameterType="com.chinamobo.ue.activity.entity.TomActivityEmpsRelation">
		select
		<include refid="Base_Column_List" />
		from TOM_ACTIVITY_EMPS_RELATION where status='Y'
			<if test="activityId != null">
				and ACTIVITY_ID=#{activityId,jdbcType=DECIMAL}
			</if>
			<if test="applyStatus != null">
				and APPLY_STATUS = #{applyStatus,jdbcType=VARCHAR}
			</if>
			<if test="applyType != null">
				and APPLY_TYPE = #{applyType,jdbcType=VARCHAR}
			</if>
			<if test="isRequired != null">
				and IS_REQUIRED = #{isRequired,jdbcType=VARCHAR}
			</if>
			<if test="operator != null">
				and OPERATOR = #{operator,jdbcType=VARCHAR}
			</if>
	</select>
	<select id="selectListExample" resultMap="BaseResultMap" parameterType="com.chinamobo.ue.activity.entity.TomActivityEmpsRelation">
		select a.*,b.name
		from TOM_ACTIVITY_EMPS_RELATION a,TOM_EMP b where a.code=b.code and status='Y' and APPLY_TYPE!='P'
			<if test="activityId != null">
				and a.ACTIVITY_ID=#{activityId,jdbcType=DECIMAL}
			</if>
			<if test="applyStatus != null">
				and a.APPLY_STATUS = #{applyStatus,jdbcType=VARCHAR}
			</if>
			<if test="applyType != null">
				and a.APPLY_TYPE = #{applyType,jdbcType=VARCHAR}
			</if>
			<if test="isRequired != null">
				and a.IS_REQUIRED = #{isRequired,jdbcType=VARCHAR}
			</if>
			<if test="operator != null">
				and a.OPERATOR = #{operator,jdbcType=VARCHAR}
			</if>
			 limit<![CDATA[#{startNum,jdbcType=DECIMAL},#{endNum,jdbcType=DECIMAL}]]>
	</select>
</mapper>