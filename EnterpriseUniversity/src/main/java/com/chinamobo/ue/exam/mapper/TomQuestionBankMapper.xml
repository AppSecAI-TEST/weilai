<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.chinamobo.ue.exam.dao.TomQuestionBankMapper">
	<resultMap id="BaseResultMap" type="com.chinamobo.ue.exam.entity.TomQuestionBank">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		<id column="QUESTION_BANK_ID" property="questionBankId" jdbcType="DECIMAL" />
		<result column="QUESTION_BANK_NUMBER" property="questionBankNumber" jdbcType="VARCHAR" />
		<result column="QUESTION_BANK_NAME" property="questionBankName" jdbcType="VARCHAR" />
		<result column="QUESTION_BANK_NAME_EN" property="questionBankNameEn" jdbcType="VARCHAR" />
		<result column="FILE_PATH" property="filePath" jdbcType="VARCHAR" />
		<result column="QUESTION_CLASSIFICATION_ID" property="questionClassificationId" jdbcType="DECIMAL" />
		<result column="ADMINS" property="admins" jdbcType="VARCHAR" />
		<result column="ADMIN_NAMES" property="adminNames" jdbcType="VARCHAR" />
		<result column="CREATE_TIME" property="createTime" jdbcType="TIMESTAMP" />
		<result column="CREATOR" property="creator" jdbcType="VARCHAR" />
		<result column="LAST_OPERATOR" property="lastOperator" jdbcType="VARCHAR" />
		<result column="CREATOR_ID" property="creatorId" jdbcType="VARCHAR" />
		<result column="LAST_OPERATOR_ID" property="lastOperatorId" jdbcType="VARCHAR" />
		<result column="UPDATE_TIME" property="updateTime" jdbcType="TIMESTAMP" />
		<result column="QUESTION_CLASSIFICATION_NAME" property="questionClassificationName" jdbcType="VARCHAR" />
	</resultMap>
<!-- 	<sql id='TABLE_SEQUENCE'>question_bank_seq.nextval</sql> -->
	<sql id="Base_Column_List">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		QUESTION_BANK_ID, QUESTION_BANK_NUMBER, QUESTION_BANK_NAME,QUESTION_BANK_NAME_EN, FILE_PATH,
		QUESTION_CLASSIFICATION_ID,
		ADMINS, CREATE_TIME, CREATOR, LAST_OPERATOR, UPDATE_TIME,CREATOR_ID
	</sql>
	<select id="selectByPrimaryKey" resultMap="BaseResultMap"
		parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		select
		<include refid="Base_Column_List" />
		from TOM_QUESTION_BANK
		where QUESTION_BANK_ID = #{questionBankId,jdbcType=DECIMAL}
	</select>
	<!-- 查询全部 -->
	<select id="queryList" resultMap="BaseResultMap"
		parameterType="com.chinamobo.ue.exam.entity.TomQuestionBank">
		select
		<include refid="Base_Column_List" />
		from TOM_QUESTION_BANK
		<if test="questionBankName != null">
			where
			INSTR(QUESTION_BANK_NAME,#{questionBankName,jdbcType=VARCHAR})>0
		</if>
		order by UPDATE_TIME desc
	</select>
	<!-- 分页查询 -->
	<select id="selectPage" resultMap="BaseResultMap" parameterType="map">
		SELECT * FROM TOM_QUESTION_BANK
		<if test="questionBankName != null">
			where
			INSTR(QUESTION_BANK_NAME,#{questionBankName,jdbcType=VARCHAR})>0
		</if>
		order by UPDATE_TIME desc
		limit <![CDATA[#{startNum,jdbcType=DECIMAL},#{endNum,jdbcType=DECIMAL}]]>
	</select>
	<!-- 查询数量 -->
	<select id="count" parameterType="com.chinamobo.ue.exam.entity.TomQuestionBank"
		resultType="java.lang.Integer">
		select count(*) from TOM_QUESTION_BANK where 1=1
		<if test="questionBankName != null">
			and INSTR(QUESTION_BANK_NAME,#{questionBankName,jdbcType=VARCHAR})>0
		</if>
		<if test="questionClassificationId != null">
			and
			QUESTION_CLASSIFICATION_ID=#{questionClassificationId,jdbcType=DECIMAL}
		</if>
	</select>
	<delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		delete from TOM_QUESTION_BANK
		where QUESTION_BANK_ID = #{questionBankId,jdbcType=DECIMAL}
	</delete>
	<insert id="insert" useGeneratedKeys="true" keyProperty="questionBankId" parameterType="com.chinamobo.ue.exam.entity.TomQuestionBank">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
<!-- 		<selectKey keyProperty="questionBankId" resultType="int" -->
<!-- 			order="BEFORE"> -->
<!-- 			select question_bank_seq.nextval from dual -->
<!-- 		</selectKey> -->
		insert into TOM_QUESTION_BANK ( QUESTION_BANK_NUMBER,
		QUESTION_BANK_NAME,QUESTION_BANK_NAME_EN, FILE_PATH, QUESTION_CLASSIFICATION_ID,
		ADMINS, CREATE_TIME, CREATOR,
		LAST_OPERATOR, UPDATE_TIME)
		values (
		#{questionBankNumber,jdbcType=VARCHAR},
		#{questionBankName,jdbcType=VARCHAR},#{questionBankNameEn,jdbcType=VARCHAR}, #{filePath,jdbcType=VARCHAR},
		#{questionClassificationId,jdbcType=DECIMAL},
		#{admins,jdbcType=VARCHAR}, #{createTime,jdbcType=TIMESTAMP},
		#{creator,jdbcType=VARCHAR},
		#{lastOperator,jdbcType=VARCHAR}, #{updateTime,jdbcType=TIMESTAMP})
	</insert>
	<insert id="insertSelective" useGeneratedKeys="true" keyProperty="questionBankId" parameterType="com.chinamobo.ue.exam.entity.TomQuestionBank">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
<!-- 		<selectKey resultType="INTEGER" order="BEFORE" keyProperty="questionBankId"> -->
<!-- 			SELECT QUESTION_BANK_SEQ.NEXTVAL as questionBankId from DUAL -->
<!-- 		</selectKey> -->
		insert into TOM_QUESTION_BANK
		<trim prefix="(" suffix=")" suffixOverrides=",">
<!-- 			QUESTION_BANK_ID, -->
			<if test="questionBankNumber != null">
				QUESTION_BANK_NUMBER,
			</if>
			<if test="questionBankName != null">
				QUESTION_BANK_NAME,
			</if>
			<if test="questionBankNameEn != null">
				QUESTION_BANK_NAME_EN,
			</if>
			<if test="filePath != null">
				FILE_PATH,
			</if>
			<if test="questionClassificationId != null">
				QUESTION_CLASSIFICATION_ID,
			</if>
			<if test="admins != null">
				ADMINS,
			</if>
			<if test="adminNames != null">
				ADMIN_NAMES,
			</if>
			<if test="createTime != null">
				CREATE_TIME,
			</if>
			<if test="creator != null">
				CREATOR,
			</if>
			<if test="lastOperator != null">
				LAST_OPERATOR,
			</if>
			<if test="creatorId != null">
				CREATOR_ID,
			</if>
			<if test="lastOperatorId != null">
				LAST_OPERATOR_ID,
			</if>
			<if test="updateTime != null">
				UPDATE_TIME,
			</if>
		</trim>
		<trim prefix="values (" suffix=")" suffixOverrides=",">
<!-- 			#{questionBankId,jdbcType=VARCHAR}, -->
			<if test="questionBankNumber != null">
				#{questionBankNumber,jdbcType=VARCHAR},
			</if>
			<if test="questionBankName != null">
				#{questionBankName,jdbcType=VARCHAR},
			</if>
			<if test="questionBankNameEn != null">
				#{questionBankNameEn,jdbcType=VARCHAR},
			</if>
			<if test="filePath != null">
				#{filePath,jdbcType=VARCHAR},
			</if>
			<if test="questionClassificationId != null">
				#{questionClassificationId,jdbcType=DECIMAL},
			</if>
			<if test="admins != null">
				#{admins,jdbcType=VARCHAR},
			</if>
			<if test="adminNames != null">
				#{adminNames,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				#{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="creator != null">
				#{creator,jdbcType=VARCHAR},
			</if>
			<if test="lastOperator != null">
				#{lastOperator,jdbcType=VARCHAR},
			</if>
			<if test="creatorId != null">
				#{creatorId,jdbcType=VARCHAR},
			</if>
			<if test="lastOperatorId != null">
				#{lastOperatorId,jdbcType=VARCHAR},
			</if>
			<if test="updateTime != null">
				#{updateTime,jdbcType=TIMESTAMP},
			</if>
		</trim>
	</insert>
	<update id="updateByPrimaryKeySelective" parameterType="com.chinamobo.ue.exam.entity.TomQuestionBank">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update TOM_QUESTION_BANK
		<set>
			<if test="questionBankNumber != null">
				QUESTION_BANK_NUMBER = #{questionBankNumber,jdbcType=VARCHAR},
			</if>
			<if test="questionBankName != null">
				QUESTION_BANK_NAME = #{questionBankName,jdbcType=VARCHAR},
			</if>
			<if test="questionBankNameEn != null">
				QUESTION_BANK_NAME_EN = #{questionBankNameEn,jdbcType=VARCHAR},
			</if>
			<if test="filePath != null">
				FILE_PATH = #{filePath,jdbcType=VARCHAR},
			</if>
			<if test="questionClassificationId != null">
				QUESTION_CLASSIFICATION_ID = #{questionClassificationId,jdbcType=DECIMAL},
			</if>
			<if test="admins != null">
				ADMINS = #{admins,jdbcType=VARCHAR},
			</if>
			<if test="adminNames != null">
				ADMIN_NAMES=#{adminNames,jdbcType=VARCHAR},
			</if>
			<if test="createTime != null">
				CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
			</if>
			<if test="creator != null">
				CREATOR = #{creator,jdbcType=VARCHAR},
			</if>
			<if test="lastOperator != null">
				LAST_OPERATOR = #{lastOperator,jdbcType=VARCHAR},
			</if>
			<if test="creatorId != null">
				CREATOR_ID = #{creatorId,jdbcType=VARCHAR},
			</if>
			<if test="lastOperatorId != null">
				LAST_OPERATOR_ID = #{lastOperatorId,jdbcType=VARCHAR},
			</if>
			<if test="updateTime != null">
				UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP},
			</if>
		</set>
		where QUESTION_BANK_ID = #{questionBankId,jdbcType=DECIMAL}
	</update>
	<update id="updateByPrimaryKey" parameterType="com.chinamobo.ue.exam.entity.TomQuestionBank">
		<!-- WARNING - @mbggenerated This element is automatically generated by 
			MyBatis Generator, do not modify. -->
		update TOM_QUESTION_BANK
		set QUESTION_BANK_NUMBER = #{questionBankNumber,jdbcType=VARCHAR},
		QUESTION_BANK_NAME = #{questionBankName,jdbcType=VARCHAR},
		QUESTION_BANK_NAME_EN = #{questionBankNameEn,jdbcType=VARCHAR},
		FILE_PATH = #{filePath,jdbcType=VARCHAR},
		QUESTION_CLASSIFICATION_ID = #{questionClassificationId,jdbcType=DECIMAL},
		ADMINS = #{admins,jdbcType=VARCHAR},
		CREATE_TIME = #{createTime,jdbcType=TIMESTAMP},
		CREATOR = #{creator,jdbcType=VARCHAR},
		LAST_OPERATOR = #{lastOperator,jdbcType=VARCHAR},
		UPDATE_TIME = #{updateTime,jdbcType=TIMESTAMP}
		where QUESTION_BANK_ID = #{questionBankId,jdbcType=DECIMAL}
	</update>
</mapper>